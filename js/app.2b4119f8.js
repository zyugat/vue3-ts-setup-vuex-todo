(function(){"use strict";var t={607:function(t,e,o){var n,i=o(9242),s=o(3396),u=o(4870),a=o(65);(function(t){t["WILLDO"]="willdo",t["DOING"]="doing",t["FINISHED"]="finished"})(n||(n={}));const c="INIT_TODO_LIST",r="ADD_TODO_ITEM",l="CHANGE_TODO_ITEM",d="REMOVE_TODO",m="SET_TODO_STATUS",p="SET_DOING_STATUS";function v(){const t=(0,a.oR)(),{getLocalList:e,setLocalList:o}=f(),i=e();function u(){t.dispatch(c,i).then((t=>t))}function v(e){const o={id:(new Date).getTime(),content:e,status:n.WILLDO};t.dispatch(r,o).then((t=>t))}function D(e){t.dispatch(l,e).then((t=>t))}function I(e){t.dispatch(d,e).then((t=>t))}function g(e){t.dispatch(m,e).then((t=>t))}function h(e){t.dispatch(p,e).then((t=>t)),o(t.state.list)}return(0,s.YP)((()=>t.state.list),(t=>{o(t)}),{deep:!0}),{initTodoList:u,addTodoItem:v,changeTodoItem:D,removeTodo:I,setStatus:g,setDoing:h}}function f(){function t(){return JSON.parse(localStorage.getItem("todoList")||"[]")}function e(t){localStorage.setItem("todoList",JSON.stringify(t))}return{getLocalList:t,setLocalList:e}}var D=o(7139);const I={class:"todo-item"},g={class:"status-input"},h=["checked"],O={key:1,class:"change-status"},S={class:"status-action"};var T=(0,s.aZ)({props:{item:{type:Object,required:!0}},emits:["removeTodo","setStatus","setDoing","changeTodoItem"],setup(t,{emit:e}){const o={DOING:n.DOING,FINISHED:n.FINISHED,WILLDO:n.WILLDO},a=t=>{e("removeTodo",t)},c=t=>{e("setStatus",t)},r=t=>{e("setDoing",t)},l=(0,u.iH)(!1),d=(0,u.iH)(""),m=(t,o)=>{d.value!==o&&e("changeTodoItem",{id:t,content:d.value}),l.value=!1};return(e,n)=>((0,s.wg)(),(0,s.iD)("div",I,[(0,s._)("div",g,[(0,s._)("input",{type:"checkbox",checked:t.item.status===(0,u.SU)(o).FINISHED,onClick:n[0]||(n[0]=e=>c(t.item.id))},null,8,h)]),!1===l.value?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"text-connect",onClick:n[1]||(n[1]=e=>{l.value=!0,d.value=t.item.content})},[(0,s._)("span",{class:(0,D.C_)(t.item.status===(0,u.SU)(o).FINISHED?"line-through":"")},(0,D.zw)(t.item.content),3)])):((0,s.wg)(),(0,s.iD)("div",O,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":n[2]||(n[2]=t=>d.value=t),type:"text"},null,512),[[i.nr,d.value]]),(0,s._)("button",{onClick:n[3]||(n[3]=e=>m(t.item.id,t.item.content))},"修改")])),(0,s._)("div",S,[(0,s._)("button",{onClick:n[4]||(n[4]=e=>a(t.item.id))},"删除"),t.item.status!==(0,u.SU)(o).FINISHED?((0,s.wg)(),(0,s.iD)("button",{key:0,class:(0,D.C_)(t.item.status===(0,u.SU)(o).DOING?"doing":"willdo"),onClick:n[5]||(n[5]=e=>r(t.item.id))},(0,D.zw)(t.item.status===(0,u.SU)(o).DOING?"正在做...":"马上做"),3)):(0,s.kq)("",!0)])]))}});const L=T;var _=L;const w={class:"todo-input"},y=["onKeyup"];var b=(0,s.aZ)({setup(t){const e=(0,u.iH)(""),{addTodoItem:o}=v(),n=()=>{e.value.trim().length&&(o(e.value),e.value="")};return(t,o)=>((0,s.wg)(),(0,s.iD)("div",w,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>e.value=t),type:"text",onKeyup:(0,i.D2)(n,["enter"])},null,40,y),[[i.nr,e.value]]),(0,s._)("button",{onClick:n},"确认")]))}});const k=b;var N=k;const E={class:"wrapper"},U=(0,s.Uk)(" 点击文字可修改内容。 ");var C=(0,s.aZ)({props:{todoList:{type:Array,required:!0}},setup(t,{expose:e}){const{removeTodo:o,changeTodoItem:n,setStatus:i,setDoing:c}=v();e({removeTodo:o,changeTodoItem:n,setStatus:i,setDoing:c});const{initTodoList:r}=v();(0,a.oR)();return(0,s.bv)((()=>{r()})),(e,a)=>((0,s.wg)(),(0,s.iD)("div",E,[U,(0,s.Wm)(N,{class:"todo-input"}),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.todoList,(t=>((0,s.wg)(),(0,s.j4)(_,{key:t.id,class:"todo-item",item:t,onChangeTodoItem:(0,u.SU)(n),onRemoveTodo:(0,u.SU)(o),onSetStatus:(0,u.SU)(i),onSetDoing:(0,u.SU)(c)},null,8,["item","onChangeTodoItem","onRemoveTodo","onSetStatus","onSetDoing"])))),128))]))}});const H=C;var F=H;const W={class:"app"};var x=(0,s.aZ)({setup(t){const e=(0,a.oR)(),o=(0,s.Fl)((()=>e.state.list));return(t,e)=>((0,s.wg)(),(0,s.iD)("div",W,[(0,s.Wm)(F,{"todo-list":(0,u.SU)(o)},null,8,["todo-list"])]))}});const G=x;var j=G,R={list:[]},A={[c](t,e){t.list=e},[r](t,e){t.list.unshift(e)},[l](t,e){t.list=t.list.map((t=>(t.id===e.id&&(t.content=e.content),t)))},[d](t,e){t.list=t.list.filter((t=>t.id!==e))},[m](t,e){t.list=t.list.map((t=>(t.id===e&&(t.status=t.status===n.FINISHED?n.WILLDO:n.FINISHED),t)))},[p](t,e){t.list=t.list.map((t=>(t.id!==e?t.status===n.DOING&&(t.status=n.WILLDO):t.status=t.status===n.WILLDO?n.DOING:n.WILLDO,t)))}},M={[c]({commit:t},e){t(c,e)},[r]({commit:t},e){t(r,e)},[l]({commit:t},e){t(l,e)},[d]({commit:t},e){t(d,e)},[m]({commit:t},e){t(m,e)},[p]({commit:t},e){t(p,e)}},Z=(0,a.MT)({state:R,mutations:A,actions:M});(0,i.ri)(j).use(Z).mount("#app")}},e={};function o(n){var i=e[n];if(void 0!==i)return i.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,o),s.exports}o.m=t,function(){var t=[];o.O=function(e,n,i,s){if(!n){var u=1/0;for(l=0;l<t.length;l++){n=t[l][0],i=t[l][1],s=t[l][2];for(var a=!0,c=0;c<n.length;c++)(!1&s||u>=s)&&Object.keys(o.O).every((function(t){return o.O[t](n[c])}))?n.splice(c--,1):(a=!1,s<u&&(u=s));if(a){t.splice(l--,1);var r=i();void 0!==r&&(e=r)}}return e}s=s||0;for(var l=t.length;l>0&&t[l-1][2]>s;l--)t[l]=t[l-1];t[l]=[n,i,s]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var i,s,u=n[0],a=n[1],c=n[2],r=0;if(u.some((function(e){return 0!==t[e]}))){for(i in a)o.o(a,i)&&(o.m[i]=a[i]);if(c)var l=c(o)}for(e&&e(n);r<u.length;r++)s=u[r],o.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return o.O(l)},n=self["webpackChunkvue3_ts_setup_todo"]=self["webpackChunkvue3_ts_setup_todo"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(607)}));n=o.O(n)})();
//# sourceMappingURL=app.2b4119f8.js.map
(function(){"use strict";var t={94:function(t,o,e){var n=e(9242),i=e(3396);const s={class:"app"};function u(t,o,e,n,u,a){const c=(0,i.up)("todo-list");return(0,i.wg)(),(0,i.iD)("div",s,[(0,i.Wm)(c,{"todo-list":t.todoList},null,8,["todo-list"])])}var a,c=e(4870),r=e(65);(function(t){t["WILLDO"]="willdo",t["DOING"]="doing",t["FINISHED"]="finished"})(a||(a={}));const l="INIT_TODO_LIST",d="ADD_TODO_ITEM",m="CHANGE_TODO_ITEM",p="REMOVE_TODO",v="SET_TODO_STATUS",f="SET_DOING_STATUS";function D(){const t=(0,r.oR)(),{getLocalList:o,setLocalList:e}=I(),n=o();function s(){t.dispatch(l,n).then((t=>t))}function u(o){const e={id:(new Date).getTime(),content:o,status:a.WILLDO};t.dispatch(d,e).then((t=>t))}function c(o){t.dispatch(m,o).then((t=>t))}function D(o){t.dispatch(p,o).then((t=>t))}function h(o){t.dispatch(v,o).then((t=>t))}function g(o){t.dispatch(f,o).then((t=>t)),e(t.state.list)}return(0,i.YP)((()=>t.state.list),(t=>{e(t)}),{deep:!0}),{initTodoList:s,addTodoItem:u,changeTodoItem:c,removeTodo:D,setStatus:h,setDoing:g}}function I(){function t(){return JSON.parse(localStorage.getItem("todoList")||"[]")}function o(t){localStorage.setItem("todoList",JSON.stringify(t))}return{getLocalList:t,setLocalList:o}}var h=e(7139);const g={class:"todo-item"},O={class:"status-input"},S=["checked"],T={key:1,class:"change-status"},L={class:"status-action"};var _=(0,i.aZ)({props:{item:{type:Object,required:!0}},emits:["removeTodo","setStatus","setDoing","changeTodoItem"],setup(t,{emit:o}){const e={DOING:a.DOING,FINISHED:a.FINISHED,WILLDO:a.WILLDO},s=t=>{o("removeTodo",t)},u=t=>{o("setStatus",t)},r=t=>{o("setDoing",t)},l=(0,c.iH)(!1),d=(0,c.iH)(""),m=(t,e)=>{d.value!==e&&o("changeTodoItem",{id:t,content:d.value}),l.value=!1};return(o,a)=>((0,i.wg)(),(0,i.iD)("div",g,[(0,i._)("div",O,[(0,i._)("input",{type:"checkbox",checked:t.item.status===(0,c.SU)(e).FINISHED,onClick:a[0]||(a[0]=o=>u(t.item.id))},null,8,S)]),!1===l.value?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"text-connect",onClick:a[1]||(a[1]=o=>{l.value=!0,d.value=t.item.content})},[(0,i._)("span",{class:(0,h.C_)(t.item.status===(0,c.SU)(e).FINISHED?"line-through":"")},(0,h.zw)(t.item.content),3)])):((0,i.wg)(),(0,i.iD)("div",T,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":a[2]||(a[2]=t=>d.value=t),type:"text"},null,512),[[n.nr,d.value]]),(0,i._)("button",{onClick:a[3]||(a[3]=o=>m(t.item.id,t.item.content))},"修改")])),(0,i._)("div",L,[(0,i._)("button",{onClick:a[4]||(a[4]=o=>s(t.item.id))},"删除"),t.item.status!==(0,c.SU)(e).FINISHED?((0,i.wg)(),(0,i.iD)("button",{key:0,class:(0,h.C_)(t.item.status===(0,c.SU)(e).DOING?"doing":"willdo"),onClick:a[5]||(a[5]=o=>r(t.item.id))},(0,h.zw)(t.item.status===(0,c.SU)(e).DOING?"正在做...":"马上做"),3)):(0,i.kq)("",!0)])]))}});const w=_;var y=w;const b={class:"todo-input"},k=["onKeyup"];var N=(0,i.aZ)({setup(t){const o=(0,c.iH)(""),{addTodoItem:e}=D(),s=()=>{o.value.trim().length&&(e(o.value),o.value="")};return(t,e)=>((0,i.wg)(),(0,i.iD)("div",b,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t),type:"text",onKeyup:(0,n.D2)(s,["enter"])},null,40,k),[[n.nr,o.value]]),(0,i._)("button",{onClick:s},"确认")]))}});const E=N;var U=E;const C={class:"wrapper"},H=(0,i.Uk)(" 点击文字可修改内容。 ");var W=(0,i.aZ)({props:{todoList:{type:Array,required:!0}},setup(t,{expose:o}){const{removeTodo:e,changeTodoItem:n,setStatus:s,setDoing:u}=D();o({removeTodo:e,changeTodoItem:n,setStatus:s,setDoing:u});const{initTodoList:a}=D();(0,r.oR)();return(0,i.bv)((()=>{a()})),(o,a)=>((0,i.wg)(),(0,i.iD)("div",C,[H,(0,i.Wm)(U,{class:"todo-input"}),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.todoList,(t=>((0,i.wg)(),(0,i.j4)(y,{key:t.id,class:"todo-item",item:t,onChangeTodoItem:(0,c.SU)(n),onRemoveTodo:(0,c.SU)(e),onSetStatus:(0,c.SU)(s),onSetDoing:(0,c.SU)(u)},null,8,["item","onChangeTodoItem","onRemoveTodo","onSetStatus","onSetDoing"])))),128))]))}});const x=W;var F=x,G=(0,i.aZ)({name:"App",components:{TodoList:F},computed:{todoList(){return this.$store.state.list}}}),j=e(89);const A=(0,j.Z)(G,[["render",u]]);var M=A,R={list:[]},Z={[l](t,o){t.list=o},[d](t,o){t.list.unshift(o)},[m](t,o){t.list=t.list.map((t=>(t.id===o.id&&(t.content=o.content),t)))},[p](t,o){t.list=t.list.filter((t=>t.id!==o))},[v](t,o){t.list=t.list.map((t=>(t.id===o&&(t.status=t.status===a.FINISHED?a.WILLDO:a.FINISHED),t)))},[f](t,o){t.list=t.list.map((t=>(t.id!==o?t.status===a.DOING&&(t.status=a.WILLDO):t.status=t.status===a.WILLDO?a.DOING:a.WILLDO,t)))}},q={[l]({commit:t},o){t(l,o)},[d]({commit:t},o){t(d,o)},[m]({commit:t},o){t(m,o)},[p]({commit:t},o){t(p,o)},[v]({commit:t},o){t(v,o)},[f]({commit:t},o){t(f,o)}},K=(0,r.MT)({state:R,mutations:Z,actions:q});(0,n.ri)(M).use(K).mount("#app")}},o={};function e(n){var i=o[n];if(void 0!==i)return i.exports;var s=o[n]={exports:{}};return t[n](s,s.exports,e),s.exports}e.m=t,function(){var t=[];e.O=function(o,n,i,s){if(!n){var u=1/0;for(l=0;l<t.length;l++){n=t[l][0],i=t[l][1],s=t[l][2];for(var a=!0,c=0;c<n.length;c++)(!1&s||u>=s)&&Object.keys(e.O).every((function(t){return e.O[t](n[c])}))?n.splice(c--,1):(a=!1,s<u&&(u=s));if(a){t.splice(l--,1);var r=i();void 0!==r&&(o=r)}}return o}s=s||0;for(var l=t.length;l>0&&t[l-1][2]>s;l--)t[l]=t[l-1];t[l]=[n,i,s]}}(),function(){e.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(o,{a:o}),o}}(),function(){e.d=function(t,o){for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)}}(),function(){var t={143:0};e.O.j=function(o){return 0===t[o]};var o=function(o,n){var i,s,u=n[0],a=n[1],c=n[2],r=0;if(u.some((function(o){return 0!==t[o]}))){for(i in a)e.o(a,i)&&(e.m[i]=a[i]);if(c)var l=c(e)}for(o&&o(n);r<u.length;r++)s=u[r],e.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return e.O(l)},n=self["webpackChunkvue3_ts_setup_todo"]=self["webpackChunkvue3_ts_setup_todo"]||[];n.forEach(o.bind(null,0)),n.push=o.bind(null,n.push.bind(n))}();var n=e.O(void 0,[998],(function(){return e(94)}));n=e.O(n)})();
//# sourceMappingURL=app.b44e9d5a.js.map